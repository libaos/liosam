# 备份方案（最保险）

目标：你担心“移动/整理之后找不到”——那就做一个**本地快照**，以后任何重构/移动都能一键回滚/对照。

## 1) 一键生成快照（推荐）

运行：

```bash
cd /mysda/w/w/lio_ws
bash tools/make_local_backup.sh
```

默认会把这些打包到 `backups/`：

- 代码与文档：`src/`、`docs/`、`tools/`、`README.md`、`.gitignore`、`.codex/plans/计划.md`
- Stage6 结果（如果存在）：`结果/Stage6_FSM多组对比/`

输出：

- `backups/lio_ws_snapshot_YYYYMMDD_HHMMSS.tar.gz`
- `backups/lio_ws_snapshot_YYYYMMDD_HHMMSS.manifest.txt`（包含 git 版本、当时的改动清单）

如果你只想备份代码不备份结果：

```bash
INCLUDE_RESULTS=false bash tools/make_local_backup.sh
```

## 2) 如何解包恢复

```bash
mkdir -p /tmp/lio_ws_restore
tar -xzf backups/lio_ws_snapshot_*.tar.gz -C /tmp/lio_ws_restore
```

然后你可以在 `/tmp/lio_ws_restore/` 里对比文件/拷回去。

## 3) 注意

- 这个快照**不会**包含大目录：`rosbags/`、`trajectory_data/`、`build/`、`devel/`、`conda_envs/`、`miniforge3/`（这些太大/本地化强，建议单独备份硬盘或网盘）。
